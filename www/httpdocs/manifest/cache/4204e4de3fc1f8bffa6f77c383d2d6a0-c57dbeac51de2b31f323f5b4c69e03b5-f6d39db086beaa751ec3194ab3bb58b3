<pre><line id="1"><marker></marker><content><span class="context-markup xml xsl"><span class="declaration open close"><span class="begin">&lt;?xml</span> <span class="attribute">version=</span><span class="value">"1.0"</span> <span class="attribute">encoding=</span><span class="value">"UTF-8"</span><span class="end">?&gt;</span></span><span class="text"></span></span></content></line>
<line id="2"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:stylesheet</span> <span class="attribute">version=</span><span class="value">"1.0"</span></span></span></content></line>
<line id="3"><marker></marker><content><span class="context-markup xml xsl"><span class="tag open"> <span class="attribute">xmlns:xsl=</span><span class="value">"http://www.w3.org/1999/XSL/Transform"</span></span></span></content></line>
<line id="4"><marker></marker><content><span class="context-markup xml xsl"><span class="tag open"> <span class="attribute">xmlns:exsl=</span><span class="value">"http://exslt.org/common"</span></span></span></content></line>
<line id="5"><marker></marker><content><span class="context-markup xml xsl"><span class="tag open"> <span class="attribute">xmlns:members=</span><span class="value">"http://michael-eichelsdoerfer.de/xslt/members"</span></span></span></content></line>
<line id="6"><marker></marker><content><span class="context-markup xml xsl"><span class="tag open">  <span class="attribute">extension-element-prefixes=</span><span class="value">"exsl members"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="7"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="8"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="comment"><span class="start">&lt;!--</span></span></span></content></line>
<line id="9"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">  Configuration: Load the (language) configuration file and specify the</span></span></content></line>
<line id="10"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">  class which should be added to invalid form elements.</span></span></content></line>
<line id="11"><marker></marker><content><span class="context-markup xml xsl"><span class="comment"><span class="stop">--&gt;</span></span><span class="text"></span></span></content></line>
<line id="12"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:import</span> <span class="attribute">href=</span><span class="value">"../members.config.xsl"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="13"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"members:invalid-class"</span> <span class="attribute">select=</span><span class="value">"'invalid'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="14"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="15"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="comment"><span class="start">&lt;!--</span> Changing anything below this line is at your own risk. <span class="stop">--&gt;</span></span><span class="text"></span></span></content></line>
<line id="16"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="17"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"members:config"</span> <span class="attribute">select=</span><span class="value">"exsl:node-set(<span class="xpath">$members-config</span>)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="18"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"members:use-password-postback"</span> <span class="attribute">select=</span><span class="value">"boolean(<span class="xpath">$members</span>:config/data/security/use-password-postback = 'true')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="19"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="20"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="21"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"type"</span> <span class="attribute">select=</span><span class="value">"'text'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="22"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="23"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="24"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"field"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="25"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"field-label"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type=<span class="xpath">$field</span>]/label"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="26"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"field-handle"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type=<span class="xpath">$field</span>]/@handle"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="27"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="28"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"name"</span> <span class="attribute">select=</span><span class="value">"concat('fields[', <span class="xpath">$field-handle</span>, ']')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="29"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"xml-post-value"</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]/post-values/*[name()=<span class="xpath">$field-handle</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="30"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"final-id"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="31"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="32"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$id</span> != ''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="33"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="34"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="35"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="36"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"concat('fields-', <span class="xpath">$field-handle</span>)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="37"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="38"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="39"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:variable&gt;</span><span class="text"></span></span></content></line>
<line id="40"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="comment"><span class="start">&lt;!--</span></span></span></content></line>
<line id="41"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">    Check if the field's configuration contains an element with</span></span></content></line>
<line id="42"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">    the same message attribute value as found in the event XML</span></span></content></line>
<line id="43"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">   response. The name of the node does not matter (may be &lt;error/&gt;</span></span></content></line>
<line id="44"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">    as well).</span></span></content></line>
<line id="45"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">  <span class="stop">--&gt;</span></span><span class="text"></span></span></content></line>
<line id="46"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"invalid"</span> <span class="attribute">select=</span><span class="value">"boolean(/data/events/*[name()=<span class="xpath">$event</span>]/*/@message = <span class="xpath">$members</span>:config/data/fields/field[@type=<span class="xpath">$field</span>]/errors/*/@message)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="47"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;div</span> <span class="attribute">class=</span><span class="value">"input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="48"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;label</span> <span class="attribute">for=</span><span class="value">"<span class="xpath">{$final-id}</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="49"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$invalid</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="50"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:attribute</span> <span class="attribute">name=</span><span class="value">"class"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="51"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:invalid-class"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="52"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/xsl:attribute&gt;</span><span class="text"></span></span></content></line>
<line id="53"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="54"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$field-label</span>/*|<span class="xpath">$field-label</span>/text()"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="55"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/label&gt;</span><span class="text"></span></span></content></line>
<line id="56"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;input</span> <span class="attribute">type=</span><span class="value">"<span class="xpath">{$type}</span>"</span> <span class="attribute">id=</span><span class="value">"<span class="xpath">{$final-id}</span>"</span> <span class="attribute">name=</span><span class="value">"<span class="xpath">{$name}</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="57"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$invalid</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="58"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:attribute</span> <span class="attribute">name=</span><span class="value">"class"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="59"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:invalid-class"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="60"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/xsl:attribute&gt;</span><span class="text"></span></span></content></line>
<line id="61"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="62"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="63"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$xml-post-value</span> != ''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="64"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:attribute</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">&gt;</span></span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$xml-post-value</span>"</span><span class="end">/&gt;</span></span><span class="tag close">&lt;/xsl:attribute&gt;</span><span class="text"></span></span></content></line>
<line id="65"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="66"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$value</span> != ''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="67"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:attribute</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">&gt;</span></span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="tag close">&lt;/xsl:attribute&gt;</span><span class="text"></span></span></content></line>
<line id="68"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="69"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="70"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/input&gt;</span><span class="text"></span></span></content></line>
<line id="71"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/div&gt;</span><span class="text"></span></span></content></line>
<line id="72"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="73"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="74"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input-password"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="75"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="76"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="77"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="78"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"mode"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="79"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="80"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$mode</span>='login'"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="81"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:call-template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="82"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"type"</span> <span class="attribute">select=</span><span class="value">"'password'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="83"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$event</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="84"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="85"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"id"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="86"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"'password'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="87"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-label"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type='password']/label/login"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="88"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"xml-post-value"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="89"><marker></marker><content><span class="context-markup xml xsl"><span class="text">           </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$members</span>:use-password-postback"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="90"><marker></marker><content><span class="context-markup xml xsl"><span class="text">              </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]/post-values/*[name()=<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="91"><marker></marker><content><span class="context-markup xml xsl"><span class="text">           </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="92"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag close">&lt;/xsl:with-param&gt;</span><span class="text"></span></span></content></line>
<line id="93"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/xsl:call-template&gt;</span><span class="text"></span></span></content></line>
<line id="94"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="95"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="96"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:call-template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="97"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"type"</span> <span class="attribute">select=</span><span class="value">"'password'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="98"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$event</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="99"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="100"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"id"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="101"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"'password'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="102"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-label"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type='password']/label/*[name()=<span class="xpath">$mode</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="103"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-handle"</span> <span class="attribute">select=</span><span class="value">"concat(<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '-password')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="104"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"name"</span> <span class="attribute">select=</span><span class="value">"concat('fields[', <span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '][password]')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="105"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"xml-post-value"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="106"><marker></marker><content><span class="context-markup xml xsl"><span class="text">           </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$members</span>:use-password-postback"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="107"><marker></marker><content><span class="context-markup xml xsl"><span class="text">              </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]/post-values/*[name()=<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle]/password"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="108"><marker></marker><content><span class="context-markup xml xsl"><span class="text">            </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="109"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag close">&lt;/xsl:with-param&gt;</span><span class="text"></span></span></content></line>
<line id="110"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/xsl:call-template&gt;</span><span class="text"></span></span></content></line>
<line id="111"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="112"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="113"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="114"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="115"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input-password-confirm"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="116"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="117"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="118"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="119"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"mode"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="120"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:call-template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="121"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"type"</span> <span class="attribute">select=</span><span class="value">"'password'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="122"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$event</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="123"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="124"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"id"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="125"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"'password-confirm'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="126"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-label"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type='password-confirm']/label/*[name()=<span class="xpath">$mode</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="127"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-handle"</span> <span class="attribute">select=</span><span class="value">"concat(<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '-confirm')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="128"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"name"</span> <span class="attribute">select=</span><span class="value">"concat('fields[', <span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '][confirm]')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="129"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"xml-post-value"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="130"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$members</span>:use-password-postback"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="131"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]/post-values/*[name()=<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle]/confirm"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="132"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="133"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/xsl:with-param&gt;</span><span class="text"></span></span></content></line>
<line id="134"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:call-template&gt;</span><span class="text"></span></span></content></line>
<line id="135"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="136"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="137"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input-recovery-code"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="138"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="139"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="140"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="141"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:call-template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="142"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$event</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="143"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="144"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"id"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="145"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"'recovery-code'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="146"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field-handle"</span> <span class="attribute">select=</span><span class="value">"concat(<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '-recovery-code')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="147"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"name"</span> <span class="attribute">select=</span><span class="value">"concat('fields[', <span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle, '][recovery-code]')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="148"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"xml-post-value"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="149"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$members</span>:use-password-postback"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="150"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]/post-values/*[name()=<span class="xpath">$members</span>:config/data/fields/field[@type='password']/@handle]/recovery-code"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="151"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="152"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/xsl:with-param&gt;</span><span class="text"></span></span></content></line>
<line id="153"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:call-template&gt;</span><span class="text"></span></span></content></line>
<line id="154"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="155"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="156"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input-identity"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="157"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="158"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="159"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="160"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:call-template</span> <span class="attribute">name=</span><span class="value">"members:input"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="161"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$event</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="162"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$value</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="163"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"id"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="164"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:with-param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field[@type='identity']/@link"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="165"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:call-template&gt;</span><span class="text"></span></span></content></line>
<line id="166"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="167"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="168"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:input-submit"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="169"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="170"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"name"</span> <span class="attribute">select=</span><span class="value">"concat('action[', <span class="xpath">$event</span>, ']')"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="171"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="172"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"value"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/events/event[@handle=<span class="xpath">$event</span>]/@submit-value"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="173"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"redirect"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="174"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;div</span> <span class="attribute">class=</span><span class="value">"input submit"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="175"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$redirect</span> != ''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="176"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;input</span> <span class="attribute">type=</span><span class="value">"hidden"</span> <span class="attribute">name=</span><span class="value">"redirect"</span> <span class="attribute">value=</span><span class="value">"<span class="xpath">{$redirect}</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="177"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="178"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;input</span> <span class="attribute">type=</span><span class="value">"submit"</span> <span class="attribute">name=</span><span class="value">"<span class="xpath">{$name}</span>"</span> <span class="attribute">value=</span><span class="value">"<span class="xpath">{$value}</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="179"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$id</span> != ''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="180"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:attribute</span> <span class="attribute">name=</span><span class="value">"id"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="181"><marker></marker><content><span class="context-markup xml xsl"><span class="text">          </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$id</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="182"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag close">&lt;/xsl:attribute&gt;</span><span class="text"></span></span></content></line>
<line id="183"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="184"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/input&gt;</span><span class="text"></span></span></content></line>
<line id="185"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/div&gt;</span><span class="text"></span></span></content></line>
<line id="186"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="187"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="188"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">name=</span><span class="value">"members:validate"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="189"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="190"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"xml-event"</span> <span class="attribute">select=</span><span class="value">"/data/events/*[name()=<span class="xpath">$event</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="191"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="192"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$xml-event</span>/filter[@name='permission' and @status='failed']"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="193"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$xml-event</span>/filter[@name='permission' and @status='failed']"</span> <span class="attribute">mode=</span><span class="value">"members:validation-summary"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="194"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="195"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$event</span>='member-login-info' and not(<span class="xpath">$xml-event</span>/@result)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="196"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="197"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$xml-event</span>"</span> <span class="attribute">mode=</span><span class="value">"members:validation-summary"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="198"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$xml-event</span>/filter[@name=<span class="xpath">$members</span>:config/data/events/event[@handle=<span class="xpath">$event</span>]/filter/@handle]"</span> <span class="attribute">mode=</span><span class="value">"members:validation-summary"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="199"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="200"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="201"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="202"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="203"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">match=</span><span class="value">"events/*"</span> <span class="attribute">mode=</span><span class="value">"members:validation-summary"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="204"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"name()"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="205"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"result"</span> <span class="attribute">select=</span><span class="value">"@result"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="206"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"message"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="207"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"custom-message"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/events/event[@handle=<span class="xpath">$event</span>]/messages/*[name()=<span class="xpath">$result</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="208"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="209"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$custom-message</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="210"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$custom-message</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="211"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="212"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="213"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"message"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="214"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="215"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="216"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:param&gt;</span><span class="text"></span></span></content></line>
<line id="217"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$message</span>!=''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="218"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;div</span> <span class="attribute">class=</span><span class="value">"validation-summary <span class="xpath">{$result}</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="219"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"exsl:node-set(<span class="xpath">$message</span>)"</span> <span class="attribute">mode=</span><span class="value">"members:html-node"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="220"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"*[@message]"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="221"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;ul</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="222"><marker></marker><content><span class="context-markup xml xsl"><span class="text">         </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"*/@message"</span> <span class="attribute">mode=</span><span class="value">"members:render-field-message"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="223"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag close">&lt;/ul&gt;</span><span class="text"></span></span></content></line>
<line id="224"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="225"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/div&gt;</span><span class="text"></span></span></content></line>
<line id="226"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="227"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="228"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="229"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">match=</span><span class="value">"@message"</span> <span class="attribute">mode=</span><span class="value">"members:render-field-message"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="230"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"field"</span> <span class="attribute">select=</span><span class="value">"name(..)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="231"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"this-message"</span> <span class="attribute">select=</span><span class="value">"."</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="232"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"message"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="233"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="comment"><span class="start">&lt;!--</span></span></span></content></line>
<line id="234"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">      Find message with the correct node name.</span></span></content></line>
<line id="235"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">     The placement inside the config file (which field?) must not</span></span></content></line>
<line id="236"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">     matter here! (This placement only decides rendering of "invalid"</span></span></content></line>
<line id="237"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">     classes for fields, see 'members:input' template.)</span></span></content></line>
<line id="238"><marker></marker><content><span class="context-markup xml xsl"><span class="comment">   <span class="stop">--&gt;</span></span><span class="text"></span></span></content></line>
<line id="239"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"custom-message"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/fields/field/errors/*[name()=<span class="xpath">$field</span> and @message=<span class="xpath">$this-message</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="240"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="241"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$custom-message</span>!=''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="242"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$custom-message</span>/*|<span class="xpath">$custom-message</span>/text()"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="243"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="244"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="245"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"."</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="246"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="247"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="248"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:param&gt;</span><span class="text"></span></span></content></line>
<line id="249"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$message</span>!=''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="250"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;li</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="251"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$message</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="252"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/li&gt;</span><span class="text"></span></span></content></line>
<line id="253"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="254"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="255"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="256"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">match=</span><span class="value">"filter"</span> <span class="attribute">mode=</span><span class="value">"members:validation-summary"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="257"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"event"</span> <span class="attribute">select=</span><span class="value">"name(..)"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="258"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"filter"</span> <span class="attribute">select=</span><span class="value">"@name"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="259"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"status"</span> <span class="attribute">select=</span><span class="value">"@status"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="260"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"result"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="261"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="262"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$status</span>='passed'"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="263"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"'success'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="264"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="265"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$status</span>='failed'"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="266"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:value-of</span> <span class="attribute">select=</span><span class="value">"'error'"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="267"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="268"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="269"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:param&gt;</span><span class="text"></span></span></content></line>
<line id="270"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:param</span> <span class="attribute">name=</span><span class="value">"message"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="271"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:variable</span> <span class="attribute">name=</span><span class="value">"custom-message"</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$members</span>:config/data/events/event[@handle=<span class="xpath">$event</span>]/filter[@handle=<span class="xpath">$filter</span>]/messages/*[name()=<span class="xpath">$status</span>]"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="272"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="273"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$custom-message</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="274"><marker></marker><content><span class="context-markup xml xsl"><span class="text">       </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"<span class="xpath">$custom-message</span>"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="275"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="276"><marker></marker><content><span class="context-markup xml xsl"><span class="text">     </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="277"><marker></marker><content><span class="context-markup xml xsl"><span class="text">        </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"."</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="278"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="279"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="280"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag close">&lt;/xsl:param&gt;</span><span class="text"></span></span></content></line>
<line id="281"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag open"><span class="begin">&lt;xsl:if</span> <span class="attribute">test=</span><span class="value">"<span class="xpath">$message</span>!=''"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="282"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag open"><span class="begin">&lt;div</span> <span class="attribute">class=</span><span class="value">"validation-summary <span class="xpath">{$result}</span>"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="283"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:apply-templates</span> <span class="attribute">select=</span><span class="value">"exsl:node-set(<span class="xpath">$message</span>)"</span> <span class="attribute">mode=</span><span class="value">"members:html-node"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="284"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/div&gt;</span><span class="text"></span></span></content></line>
<line id="285"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/xsl:if&gt;</span><span class="text"></span></span></content></line>
<line id="286"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="287"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="288"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag open"><span class="begin">&lt;xsl:template</span> <span class="attribute">match=</span><span class="value">"*|@*|text()"</span> <span class="attribute">mode=</span><span class="value">"members:html-node"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="289"><marker></marker><content><span class="context-markup xml xsl"><span class="text"> </span><span class="tag open"><span class="begin">&lt;xsl:choose</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="290"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:when</span> <span class="attribute">test=</span><span class="value">"* and not(text())"</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="291"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"*"</span><span class="end">/&gt;</span></span><span class="text"></span></span></content></line>
<line id="292"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:when&gt;</span><span class="text"></span></span></content></line>
<line id="293"><marker></marker><content><span class="context-markup xml xsl"><span class="text">   </span><span class="tag open"><span class="begin">&lt;xsl:otherwise</span><span class="end">&gt;</span></span><span class="text"></span></span></content></line>
<line id="294"><marker></marker><content><span class="context-markup xml xsl"><span class="text">      </span><span class="tag open"><span class="begin">&lt;p</span><span class="end">&gt;</span></span><span class="tag open"><span class="begin">&lt;xsl:copy-of</span> <span class="attribute">select=</span><span class="value">"*|@*|text()"</span><span class="end">/&gt;</span></span><span class="tag close">&lt;/p&gt;</span><span class="text"></span></span></content></line>
<line id="295"><marker></marker><content><span class="context-markup xml xsl"><span class="text">    </span><span class="tag close">&lt;/xsl:otherwise&gt;</span><span class="text"></span></span></content></line>
<line id="296"><marker></marker><content><span class="context-markup xml xsl"><span class="text">  </span><span class="tag close">&lt;/xsl:choose&gt;</span><span class="text"></span></span></content></line>
<line id="297"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:template&gt;</span><span class="text"></span></span></content></line>
<line id="298"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span></span></content></line>
<line id="299"><marker></marker><content><span class="context-markup xml xsl"><span class="text"></span><span class="tag close">&lt;/xsl:stylesheet&gt;</span></span></content></line></pre>